# Обзор схемы базы данных

Этот документ предоставляет высокоуровневый обзор основных сущностей и их связей в базе данных ProDvor. Он предназначен для контекста фронтенд-разработчиков.

**Примечание:** Этот документ не является исчерпывающей ER-диаграммой, а лишь описывает ключевые концепции.

---

## Основные сущности

-   **User**: Центральная сущность, хранящая базовую информацию (логин, пароль, email, никнейм, аватар). Связана с профилями ролей.

-   **Team**: Представляет команду. Содержит название, лого, дисциплину, рейтинг и ID капитана.

-   **PlayerProfile, RefereeProfile, CoachProfile и др.**: Профили, расширяющие сущность `User`. Хранят специфичные для роли данные (например, игровую статистику для игрока или категорию для судьи).

-   **Tournament**: Турнир со своим статусом, сеткой, участниками и расписанием.

-   **Post**: Публикация в ленте, сделанная пользователем или от имени команды.

-   **Playground**: Спортивная площадка с адресом, типом покрытия и доступными видами спорта.

## Ключевые связи

-   **User <-> Team (многие ко многим)**: Реализуется через связующую таблицу `TeamMembers`. Один пользователь может состоять в нескольких командах.
-   **User <-> User (многие ко многим)**: Дружеские связи. Реализуется через связующую таблицу `Friendships`.
-   **User <-> Post (один ко многим)**: Один пользователь может быть автором множества постов.
-   **Team <-> Post (один ко многим)**: Команда может иметь свою ленту постов.
-   **User <-> UserSession (один ко многим)**: Один пользователь может иметь несколько активных сессий на разных устройствах.
