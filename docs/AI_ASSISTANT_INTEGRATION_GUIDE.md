# Руководство по интеграции с AI-ассистентом

Этот документ описывает правила и соглашения по работе с AI-ассистентом (Firebase Studio) в данном репозитории.

## 1. Основной принцип: AI работает с кодом, а не с секретами

-   **Запрещено хранение секретов:** В репозитории **не должно быть** никаких секретных ключей, токенов или паролей. Все секреты должны передаваться через переменные окружения (например, из GitHub Secrets).
-   **Конфигурация:** Файлы конфигурации (например, для подключения к Firebase или другим сервисам) должны использовать переменные окружения.

    Пример:
    ```typescript
    // src/ai/genkit.ts
    const ai = genkit({
        plugins: [
            googleAI({
                apiKey: process.env.GEMINI_API_KEY, // Правильно
            }),
        ],
    });
    ```

## 2. Генерация кода и артефактов

-   **Автогенерация SDK:** AI-ассистент **не редактирует** сгенерированные файлы API-клиента вручную. Вместо этого он использует скрипт, описанный в `docs/OPENAPI_SYNC.md`, для их перегенерации на основе `docs/OPENAPI_SPEC.json`.
-   **Ответственность:** Задача разработчика — убедиться, что `OPENAPI_SPEC.json` синхронизирован с бэкендом, прежде чем просить AI-ассистента внести изменения, затрагивающие API.

## 3. Ограничения и рекомендации

-   **Контекст:** При работе с AI-ассистентом всегда предоставляйте ему максимально полный контекст: тексты ошибок, названия файлов, фрагменты кода.
-   **Итеративность:** Если результат не идеален, не стесняйтесь давать уточняющие указания. Например: "Все хорошо, но теперь перенеси эту логику в отдельный хук" или "Добавь обработку ошибок для этого запроса".
-   **Безопасность:** Помните, что код, сгенерированный AI, требует проверки. Всегда просматривайте изменения перед их подтверждением.
